<!DOCTYPE html>
<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8" />
    <title>Task 8</title>
    <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>
  </head>

  <body>

    <script type="application/javascript">
      $(document).ready(function() {
        listPosts();
      });

      function addPostRow(data) {
        const postParagraph = $("<p></p>");
        const postText = `Post created with id ${data.id}, title: ${data.title}, author: ${data.author}`;
        const spanElement = $("<span></span>").text(postText);
        postParagraph.append(spanElement);
        $("body").append(postParagraph);
      }

      function listPosts() {
        $.get("db.json", function(data, status) {
          if (status === "success") {
            const posts = data.posts;
            posts.forEach(function(post) {
              addPostRow(post);
            });
          } else {
            alert("Server Error");
          }
        });
      }
    </script>

  </body>
</html>